<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Piano Keyboard ðŸŽ¹</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      font-family: 'Comic Sans MS', 'Chalkboard', cursive;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    h1 {
      color: #fff;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 0 20px #e94560;
    }

    .subtitle {
      color: #aaa;
      margin-bottom: 30px;
      font-size: 1.2rem;
    }

    .hint {
      color: #888;
      margin-top: 20px;
      font-size: 1rem;
    }

    .piano {
      display: flex;
      background: #111;
      padding: 20px 20px 10px 20px;
      border-radius: 10px;
      box-shadow: 0 30px 60px rgba(0,0,0,0.8);
    }

    .white-key {
      width: 50px;
      height: 200px;
      background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 50%, #e0e0e0 100%);
      border: 1px solid #999;
      border-radius: 0 0 5px 5px;
      cursor: pointer;
      position: relative;
      transition: all 0.05s;
      margin: 0 1px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 10px;
    }

    .white-key:hover {
      background: linear-gradient(180deg, #fff 0%, #f8f8f8 50%, #f0f0f0 100%);
    }

    .white-key:active, .white-key.playing {
      background: linear-gradient(180deg, #e94560 0%, #d63d56 50%, #c7354a 100%);
      transform: translateY(3px);
      box-shadow: 0 0 15px #e94560;
    }

    .white-key .key-name {
      color: #666;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .black-key {
      width: 32px;
      height: 120px;
      background: linear-gradient(180deg, #222 0%, #000 100%);
      position: absolute;
      z-index: 10;
      border-radius: 0 0 4px 4px;
      cursor: pointer;
      transition: all 0.05s;
      border: none;
      box-shadow: 0 3px 5px rgba(0,0,0,0.5);
    }

    .black-key:hover {
      background: linear-gradient(180deg, #333 0%, #111 100%);
    }

    .black-key:active, .black-key.playing {
      background: linear-gradient(180deg, #e94560 0%, #c7354a 100%);
      box-shadow: 0 0 10px #e94560;
    }

    .black-key .key-name {
      color: #fff;
      font-size: 0.7rem;
      font-weight: bold;
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
    }

    .note-display {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(233, 69, 96, 0.9);
      color: white;
      padding: 15px 30px;
      border-radius: 30px;
      font-size: 2rem;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 100;
    }

    .note-display.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¹ Piano Keyboard</h1>
  <p class="subtitle">Click any key to play!</p>

  <div class="note-display" id="noteDisplay"></div>

  <div class="piano" id="piano">
    <!-- White keys: C D E F G A B C -->
    <button class="white-key" data-note="C" data-octave="4"><span class="key-name">C</span></button>
    <button class="white-key" data-note="D" data-octave="4"><span class="key-name">D</span></button>
    <button class="white-key" data-note="E" data-octave="4"><span class="key-name">E</span></button>
    <button class="white-key" data-note="F" data-octave="4"><span class="key-name">F</span></button>
    <button class="white-key" data-note="G" data-octave="4"><span class="key-name">G</span></button>
    <button class="white-key" data-note="A" data-octave="4"><span class="key-name">A</span></button>
    <button class="white-key" data-note="B" data-octave="4"><span class="key-name">B</span></button>
    <button class="white-key" data-note="C" data-octave="5"><span class="key-name">C</span></button>
  </div>

  <!-- Black keys positioned with CSS -->
  <button class="black-key" data-note="C#" data-octave="4" style="left: 52px;"><span class="key-name">C#</span></button>
  <button class="black-key" data-note="D#" data-octave="4" style="left: 106px;"><span class="key-name">D#</span></button>
  <button class="black-key" data-note="F#" data-octave="4" style="left: 266px;"><span class="key-name">F#</span></button>
  <button class="black-key" data-note="G#" data-octave="4" style="left: 320px;"><span class="key-name">G#</span></button>
  <button class="black-key" data-note="A#" data-octave="4" style="left: 374px;"><span class="key-name">A#</span></button>

  <p class="hint">Tip: Use keys A-S-D-F-G-H-J-K or click with mouse!</p>

  <script>
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    function playNote(frequency) {
      if (audioContext.state === 'suspended') {
        audioContext.resume();
      }

      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.type = 'sine';
      oscillator.frequency.value = frequency;
      
      const now = audioContext.currentTime;
      gainNode.gain.setValueAtTime(0.4, now);
      gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.8);
      
      oscillator.start(now);
      oscillator.stop(now + 0.8);
    }

    function noteToFrequency(note, octave) {
      const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
      const noteIndex = notes.indexOf(note);
      const a4 = 440;
      const semitones = (octave - 4) * 12 + noteIndex - 9;
      return a4 * Math.pow(2, semitones / 12);
    }

    const noteDisplay = document.getElementById('noteDisplay');

    function playKey(note, octave, element) {
      const freq = noteToFrequency(note, octave);
      playNote(freq);
      
      element.classList.add('playing');
      setTimeout(() => element.classList.remove('playing'), 150);
      
      noteDisplay.textContent = note + octave;
      noteDisplay.classList.add('show');
      setTimeout(() => noteDisplay.classList.remove('show'), 300);
    }

    document.querySelectorAll('.white-key, .black-key').forEach(key => {
      key.addEventListener('click', () => {
        const note = key.dataset.note;
        const octave = parseInt(key.dataset.octave);
        playKey(note, octave, key);
      });
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      const keyMap = {
        'a': { note: 'C', octave: 4 },
        's': { note: 'D', octave: 4 },
        'd': { note: 'E', octave: 4 },
        'f': { note: 'F', octave: 4 },
        'g': { note: 'G', octave: 4 },
        'h': { note: 'A', octave: 4 },
        'j': { note: 'B', octave: 4 },
        'k': { note: 'C', octave: 5 }
      };

      const keyData = keyMap[e.key.toLowerCase()];
      if (keyData) {
        const whiteKeys = document.querySelectorAll('.white-key');
        const notes = ['C', 'D', 'E', 'F', 'G', 'A', 'B', 'C'];
        const index = notes.indexOf(keyData.note);
        if (keyData.octave === 5) {
          playKey('C', 5, whiteKeys[7]);
        } else {
          playKey(keyData.note, 4, whiteKeys[index]);
        }
      }
    });
  </script>
</body>
</html>
